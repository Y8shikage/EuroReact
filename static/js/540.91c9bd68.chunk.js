"use strict";(self.webpackChunkcours_project=self.webpackChunkcours_project||[]).push([[540,727],{191:(e,s,a)=>{a.d(s,{A:()=>t});a(43);var n=a(579);const t=e=>{let{isOpen:s,onClose:a,title:t,message:i,type:l="info",confirmText:r="OK"}=e;if(!s)return null;return(0,n.jsx)("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,n.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"modal-icon ".concat(l),children:["success"===l&&"\u2713","error"===l&&"\u2717","info"===l&&"\u2139","warning"===l&&"\u26a0"]}),(0,n.jsx)("h2",{className:"modal-title",children:t}),(0,n.jsx)("p",{className:"modal-message",children:i}),(0,n.jsx)("div",{className:"modal-buttons",children:(0,n.jsx)("button",{className:"modal-btn modal-btn-primary",onClick:a,children:r})})]})})}},206:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var n=a(555),t=a(43),i=a(833),l=a(631),r=a(90),c=a(191),o=a(579);const d=function(e){let{isOpen:s,onClose:a,onConfirm:n,title:t,message:i,confirmText:l="\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:r="\u041e\u0442\u043c\u0435\u043d\u0430"}=e;return s?(0,o.jsx)("div",{className:"confirm-modal-overlay",onClick:a,children:(0,o.jsxs)("div",{className:"confirm-modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"confirm-modal-header",children:[(0,o.jsx)("h2",{children:t}),(0,o.jsx)("button",{className:"confirm-modal-close",onClick:a,children:"\xd7"})]}),(0,o.jsx)("div",{className:"confirm-modal-body",children:(0,o.jsx)("p",{children:i})}),(0,o.jsxs)("div",{className:"confirm-modal-footer",children:[(0,o.jsx)("button",{className:"confirm-btn-cancel",onClick:a,children:r}),(0,o.jsx)("button",{className:"confirm-btn-delete",onClick:()=>{n(),a()},children:l})]})]})}):null};const m=function(e){let{isOpen:s,onClose:a,onConfirm:n,videoName:i}=e;const[l,r]=(0,t.useState)("");if(!s)return null;const c=()=>{r(""),a()};return(0,o.jsx)("div",{className:"reject-modal-overlay",onClick:c,children:(0,o.jsxs)("div",{className:"reject-modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsx)("div",{className:"reject-modal-header",children:(0,o.jsx)("h2",{children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e"})}),(0,o.jsxs)("div",{className:"reject-modal-body",children:[(0,o.jsxs)("p",{className:"reject-modal-video-name",children:["\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e ",(0,o.jsxs)("strong",{children:['"',i,'"']}),"?"]}),(0,o.jsxs)("div",{className:"reject-modal-input-group",children:[(0,o.jsx)("label",{htmlFor:"reject-reason",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),(0,o.jsx)("textarea",{id:"reject-reason",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f...",value:l,onChange:e=>r(e.target.value),rows:4})]})]}),(0,o.jsxs)("div",{className:"reject-modal-footer",children:[(0,o.jsx)("button",{className:"reject-btn-cancel",onClick:c,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,o.jsx)("button",{className:"reject-btn-confirm",onClick:()=>{n(l),r("")},children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"})]})]})})},u=e=>{let{isOpen:s,onClose:a,username:i,password:l,role:r}=e;const[c,d]=(0,t.useState)(!1),[m,u]=(0,t.useState)({username:!1,password:!1});if(!s)return null;const h=(e,s)=>{navigator.clipboard.writeText(e),u((0,n.A)((0,n.A)({},m),{},{[s]:!0})),setTimeout(()=>{u((0,n.A)((0,n.A)({},m),{},{[s]:!1}))},2e3)};return(0,o.jsx)("div",{className:"credentials-modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,o.jsxs)("div",{className:"credentials-modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsx)("div",{className:"credentials-modal-icon success",children:"\u2713"}),(0,o.jsx)("h2",{className:"credentials-modal-title",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d!"}),(0,o.jsxs)("div",{className:"credentials-info",children:[(0,o.jsxs)("div",{className:"credential-item",children:[(0,o.jsx)("label",{children:"\u041b\u043e\u0433\u0438\u043d:"}),(0,o.jsxs)("div",{className:"credential-value",children:[(0,o.jsx)("span",{className:"credential-text",children:i}),(0,o.jsx)("button",{className:"btn-copy",onClick:()=>h(i,"username"),title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:m.username?"\u2713":"\ud83d\udccb"})]})]}),(0,o.jsxs)("div",{className:"credential-item",children:[(0,o.jsx)("label",{children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),(0,o.jsxs)("div",{className:"credential-value",children:[(0,o.jsx)("span",{className:"credential-text",children:c?l:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,o.jsx)("button",{className:"btn-toggle-password",onClick:()=>d(!c),title:c?"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",children:c?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"}),(0,o.jsx)("button",{className:"btn-copy",onClick:()=>h(l,"password"),title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:m.password?"\u2713":"\ud83d\udccb"})]})]}),(0,o.jsxs)("div",{className:"credential-item",children:[(0,o.jsx)("label",{children:"\u0420\u043e\u043b\u044c:"}),(0,o.jsx)("div",{className:"credential-value",children:(0,o.jsx)("span",{className:"role-badge ".concat(r),children:"admin"===r?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"})})]})]}),(0,o.jsx)("div",{className:"credentials-info-message",children:"\u2139\ufe0f \u0423\u0447\u0451\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0445 \u0432 \u043b\u044e\u0431\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439."}),(0,o.jsx)("div",{className:"credentials-modal-buttons",children:(0,o.jsx)("button",{className:"credentials-btn-primary",onClick:a,children:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"})})]})})};var h=a(691),p=a(996);const x=function(){var e;const s=(0,i.Zp)(),[a,x]=(0,t.useState)("users"),[j,N]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[f,b]=(0,t.useState)([]),[C,y]=(0,t.useState)({isOpen:!1,title:"",message:"",type:"info"}),[S,O]=(0,t.useState)({isOpen:!1,username:"",password:"",role:""}),[k,A]=(0,t.useState)({firstName:"",lastName:"",middleName:"",role:"user"}),[w,I]=(0,t.useState)({recipient:"all",title:"",message:""}),[T,J]=(0,t.useState)({}),[q,F]=(0,t.useState)(""),[L,D]=(0,t.useState)(1),[R,M]=(0,t.useState)(1),[P,U]=(0,t.useState)({isOpen:!1,username:"",userFullName:""}),[V,z]=(0,t.useState)({isOpen:!1,video:null,index:-1});(0,t.useEffect)(()=>{const e=localStorage.getItem("user");if(!e)return void s("/");"admin"===JSON.parse(e).role?(Q(),E(),K()):s("/home")},[s]);const Q=()=>{const e=localStorage.getItem("users");if(e){const s=JSON.parse(e);N(s.users||[])}},E=()=>{const e=localStorage.getItem("adminQueue"),s=e?JSON.parse(e):[];v(s)},K=()=>{const e=localStorage.getItem("approvedVideos"),s=e?JSON.parse(e):[];b(s)},W=e=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let n=0;n<e;n++)a+=s.charAt(Math.floor(62*Math.random()));return a},Z=j.filter(e=>{if(!q.trim())return!0;const s=q.toLowerCase();return e.username.toLowerCase().includes(s)||e.firstName.toLowerCase().includes(s)||e.lastName.toLowerCase().includes(s)||e.middleName&&e.middleName.toLowerCase().includes(s)}),_=Z.filter(e=>"user"===e.role).length,B=Z.filter(e=>"admin"===e.role).length,G=Math.ceil(Z.length/4),H=4*(L-1),X=H+4,Y=Z.slice(H,X),$=e=>{F(e),D(1)},ee=()=>{0!==f.length&&(b([]),localStorage.setItem("approvedVideos",JSON.stringify([])),M(1),y({isOpen:!0,title:"\u041e\u0447\u0438\u0449\u0435\u043d\u043e",message:"\u0412\u0441\u0435 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.",type:"success"}))};return(0,o.jsxs)("div",{className:"admin-page",children:[(0,o.jsx)("div",{className:"admin-background",children:(0,o.jsx)(l.default,{enableRainbow:!1,gridColor:"#8a5cff",rippleIntensity:.01,gridSize:20,gridThickness:20,fadeDistance:2.5,vignetteStrength:1.5,glowIntensity:.2,mouseInteraction:!0,mouseInteractionRadius:1.2,opacity:.9})}),(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsx)("div",{className:"page-logo",children:(0,o.jsx)(h.h,{})}),(0,o.jsx)(r.default,{items:[{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",href:"#",action:"home"},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",href:"#",action:"history"},{label:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",href:"#",action:"notifications"},{label:"\u0410\u0434\u043c\u0438\u043d",href:"#",action:"admin"},{label:"\u0412\u044b\u0445\u043e\u0434",href:"#",action:"logout"}],particleCount:15,particleDistances:[90,10],particleR:100,initialActiveIndex:3,animationTime:600,timeVariance:300,colors:[1,2,3,1,2,3,1,4],onItemClick:e=>{if("home"===e.action)s("/home");else if("history"===e.action)s("/history");else if("notifications"===e.action)s("/notifications");else{if("admin"===e.action)return;"logout"===e.action&&(localStorage.removeItem("user"),s("/"))}}})]}),(0,o.jsxs)("div",{className:"admin-content",children:[(0,o.jsx)("h1",{className:"admin-title",children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"}),(0,o.jsxs)("div",{className:"admin-tabs",children:[(0,o.jsx)("button",{className:"tab-btn ".concat("users"===a?"active":""),onClick:()=>x("users"),children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,o.jsxs)("button",{className:"tab-btn ".concat("queue"===a?"active":""),onClick:()=>x("queue"),children:["\u041e\u0447\u0435\u0440\u0435\u0434\u044c (",g.length,")"]}),(0,o.jsxs)("button",{className:"tab-btn ".concat("approved"===a?"active":""),onClick:()=>x("approved"),children:["\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0435 (",f.length,")"]}),(0,o.jsx)("button",{className:"tab-btn ".concat("notifications"===a?"active":""),onClick:()=>x("notifications"),children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430"})]}),(0,o.jsxs)("div",{className:"tab-content",children:["users"===a&&(0,o.jsxs)("div",{className:"users-tab",children:[(0,o.jsxs)("div",{className:"create-user-form",children:[(0,o.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsx)("input",{type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:k.lastName,onChange:e=>A((0,n.A)((0,n.A)({},k),{},{lastName:e.target.value}))}),(0,o.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f",value:k.firstName,onChange:e=>A((0,n.A)((0,n.A)({},k),{},{firstName:e.target.value}))}),(0,o.jsx)("input",{type:"text",placeholder:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",value:k.middleName,onChange:e=>A((0,n.A)((0,n.A)({},k),{},{middleName:e.target.value}))}),(0,o.jsxs)("select",{value:k.role,onChange:e=>A((0,n.A)((0,n.A)({},k),{},{role:e.target.value})),children:[(0,o.jsx)("option",{value:"user",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,o.jsx)("option",{value:"admin",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"})]})]}),(0,o.jsx)("button",{className:"btn-create-user",onClick:()=>{if(!k.firstName||!k.lastName)return void y({isOpen:!0,title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",type:"error"});const e=W(8),s=W(8),a={username:e,password:s,role:k.role,firstName:k.firstName,lastName:k.lastName,middleName:k.middleName,createdAt:Date.now()},n=[...j,a];N(n),localStorage.setItem("users",JSON.stringify({users:n})),O({isOpen:!0,username:e,password:s,role:k.role}),A({firstName:"",lastName:"",middleName:"",role:"user"})},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]}),(0,o.jsxs)("div",{className:"users-list",children:[(0,o.jsxs)("div",{className:"users-list-header",children:[(0,o.jsxs)("h2",{children:["\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 (",_," / ",B,")"]}),(0,o.jsxs)("div",{className:"search-box",children:[(0,o.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443, \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u0438...",value:q,onChange:e=>$(e.target.value),className:"search-input"}),q&&(0,o.jsx)("button",{className:"search-clear",onClick:()=>$(""),title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a",children:"\xd7"})]})]}),0===Z.length?(0,o.jsx)("div",{className:"no-users-found",children:(0,o.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})}):(0,o.jsxs)(o.Fragment,{children:[Y.map((e,s)=>(0,o.jsxs)("div",{className:"user-item",children:[(0,o.jsxs)("div",{className:"user-info",children:[(0,o.jsxs)("h3",{children:[e.lastName," ",e.firstName," ",e.middleName]}),(0,o.jsxs)("p",{children:["\u041b\u043e\u0433\u0438\u043d: ",(0,o.jsx)("strong",{children:e.username})]}),(0,o.jsxs)("p",{className:"password-field",children:["\u041f\u0430\u0440\u043e\u043b\u044c:",(0,o.jsx)("strong",{className:"password-value",children:T[e.username]?e.password:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,o.jsx)("button",{className:"btn-toggle-password-inline",onClick:()=>J((0,n.A)((0,n.A)({},T),{},{[e.username]:!T[e.username]})),title:T[e.username]?"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",children:T[e.username]?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),(0,o.jsxs)("p",{children:["\u0420\u043e\u043b\u044c: ",(0,o.jsx)("span",{className:"role-badge ".concat(e.role),children:"admin"===e.role?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"})]})]}),(0,o.jsx)("button",{className:"btn-delete-user",onClick:()=>(e=>{"Admin"!==e.username?U({isOpen:!0,username:e.username,userFullName:"".concat(e.lastName," ").concat(e.firstName," ").concat(e.middleName||"").trim()}):y({isOpen:!0,title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",type:"error"})})(e),disabled:"Admin"===e.username,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},s)),G>1&&(0,o.jsxs)("div",{className:"pagination",children:[(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{L>1&&D(L-1)},disabled:1===L,children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,o.jsx)("div",{className:"pagination-pages",children:Array.from({length:G},(e,s)=>s+1).map(e=>(0,o.jsx)("button",{className:"pagination-page ".concat(e===L?"active":""),onClick:()=>(e=>{e>=1&&e<=G&&D(e)})(e),children:e},e))}),(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{L<G&&D(L+1)},disabled:L===G,children:"\u0412\u043f\u0435\u0440\u0451\u0434 \u2192"})]})]})]})]}),"queue"===a&&(0,o.jsxs)("div",{className:"queue-tab",children:[(0,o.jsxs)("h2",{children:["\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435 (",g.length,")"]}),0===g.length?(0,o.jsx)("div",{className:"empty-queue",children:(0,o.jsx)("p",{children:"\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0443\u0441\u0442\u0430"})}):g.map((e,s)=>(0,o.jsxs)("div",{className:"queue-item",children:[e.thumbnail&&(0,o.jsx)("div",{className:"queue-thumbnail",children:(0,o.jsx)("img",{src:e.thumbnail,alt:e.fileName})}),(0,o.jsxs)("div",{className:"queue-info",children:[(0,o.jsx)("h3",{children:e.fileName}),(0,o.jsxs)("p",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,o.jsx)("strong",{children:e.username})]}),(0,o.jsxs)("p",{children:["\u0414\u0430\u0442\u0430: ",new Date(e.timestamp).toLocaleString("ru-RU")]}),(0,o.jsxs)("p",{children:["\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b: ",e.resolution," \u2022 ",e.duration," \u2022 ",e.fileSize]})]}),(0,o.jsxs)("div",{className:"queue-actions",children:[(0,o.jsx)("button",{className:"btn-approve",onClick:()=>((e,s)=>{(0,p.eU)(e.username,e.fileName);const a=[(0,n.A)((0,n.A)({},e),{},{approvedAt:Date.now()}),...f];b(a),localStorage.setItem("approvedVideos",JSON.stringify(a));const t=g.filter((e,a)=>a!==s);v(t),localStorage.setItem("adminQueue",JSON.stringify(t)),y({isOpen:!0,title:"\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043e",message:'\u0412\u0438\u0434\u0435\u043e "'.concat(e.fileName,'" \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043e. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435.'),type:"success"})})(e,s),children:"\u2713 \u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"}),(0,o.jsx)("button",{className:"btn-reject",onClick:()=>((e,s)=>{z({isOpen:!0,video:e,index:s})})(e,s),children:"\u2717 \u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"})]})]},s))]}),"approved"===a&&(0,o.jsxs)("div",{className:"approved-tab",children:[(0,o.jsxs)("h2",{children:["\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043e (",f.length,")"]}),0===f.length?(0,o.jsx)("div",{className:"empty-approved",children:(0,o.jsx)("p",{children:"\u041d\u0435\u0442 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e"})}):(0,o.jsx)(o.Fragment,{children:(()=>{const e=Math.ceil(f.length/4),s=4*(R-1),a=s+4,n=f.slice(s,a);return(0,o.jsxs)(o.Fragment,{children:[n.map((e,a)=>(0,o.jsxs)("div",{className:"approved-item",children:[e.thumbnail&&(0,o.jsx)("div",{className:"approved-thumbnail",children:(0,o.jsx)("img",{src:e.thumbnail,alt:e.fileName})}),(0,o.jsxs)("div",{className:"approved-info",children:[(0,o.jsx)("h3",{children:e.fileName}),(0,o.jsxs)("p",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,o.jsx)("strong",{children:e.username})]}),(0,o.jsxs)("p",{children:["\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e: ",new Date(e.timestamp).toLocaleString("ru-RU")]}),(0,o.jsxs)("p",{children:["\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043e: ",new Date(e.approvedAt).toLocaleString("ru-RU")]}),(0,o.jsxs)("p",{children:["\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b: ",e.resolution," \u2022 ",e.duration," \u2022 ",e.fileSize]})]})]},s+a)),(0,o.jsxs)("div",{className:"pagination",children:[e>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{R>1&&M(R-1)},disabled:1===R,children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,o.jsx)("div",{className:"pagination-pages",children:Array.from({length:e},(e,s)=>s+1).map(e=>(0,o.jsx)("button",{className:"pagination-page ".concat(e===R?"active":""),onClick:()=>M(e),children:e},e))}),(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{R<e&&M(R+1)},disabled:R===e,children:"\u0412\u043f\u0435\u0440\u0451\u0434 \u2192"})]}),(0,o.jsx)("button",{className:"btn-clear-approved",onClick:ee,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0451"})]})]})})()})]}),"notifications"===a&&(0,o.jsxs)("div",{className:"notifications-tab",children:[(0,o.jsx)("h2",{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"}),(0,o.jsxs)("div",{className:"notification-form",children:[(0,o.jsxs)("select",{value:w.recipient,onChange:e=>I((0,n.A)((0,n.A)({},w),{},{recipient:e.target.value})),children:[(0,o.jsx)("option",{value:"all",children:"\u0412\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"}),j.map((e,s)=>(0,o.jsxs)("option",{value:e.username,children:[e.firstName," ",e.lastName," (",e.username,")"]},s))]}),(0,o.jsx)("input",{type:"text",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",value:w.title,onChange:e=>I((0,n.A)((0,n.A)({},w),{},{title:e.target.value}))}),(0,o.jsx)("textarea",{placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",value:w.message,onChange:e=>I((0,n.A)((0,n.A)({},w),{},{message:e.target.value})),rows:5}),(0,o.jsx)("button",{className:"btn-send-notification",onClick:()=>{w.title&&w.message?("all"===w.recipient?(j.forEach(e=>{(0,p.uA)(e.username,w.title,w.message)}),y({isOpen:!0,title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c (".concat(j.length,")"),type:"success"})):((0,p.uA)(w.recipient,w.title,w.message),y({isOpen:!0,title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e ".concat(w.recipient),type:"success"})),I({recipient:"all",title:"",message:""})):y({isOpen:!0,title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",type:"error"})},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"})]})]})]})]}),(0,o.jsx)(c.A,{isOpen:C.isOpen,onClose:()=>{y({isOpen:!1,title:"",message:"",type:"info"})},title:C.title,message:C.message,type:C.type}),(0,o.jsx)(u,{isOpen:S.isOpen,onClose:()=>O((0,n.A)((0,n.A)({},S),{},{isOpen:!1})),username:S.username,password:S.password,role:S.role}),(0,o.jsx)(d,{isOpen:P.isOpen,onClose:()=>U((0,n.A)((0,n.A)({},P),{},{isOpen:!1})),onConfirm:()=>{const e=P.username,s=j.filter(s=>s.username!==e);N(s),localStorage.setItem("users",JSON.stringify({users:s})),y({isOpen:!0,title:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0451\u043d",type:"success"})},title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "'.concat(P.userFullName,'" (').concat(P.username,")? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,o.jsx)(m,{isOpen:V.isOpen,onClose:()=>z({isOpen:!1,video:null,index:-1}),onConfirm:e=>{const{video:s,index:a}=V;(0,p.pW)(s.username,s.fileName,e||"");const n=g.filter((e,s)=>s!==a);v(n),localStorage.setItem("adminQueue",JSON.stringify(n)),z({isOpen:!1,video:null,index:-1}),y({isOpen:!0,title:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e",message:'\u0412\u0438\u0434\u0435\u043e "'.concat(s.fileName,'" \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435.'),type:"info"})},videoName:(null===(e=V.video)||void 0===e?void 0:e.fileName)||""})]})}}}]);
//# sourceMappingURL=540.91c9bd68.chunk.js.map