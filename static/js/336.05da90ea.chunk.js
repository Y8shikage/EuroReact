"use strict";(self.webpackChunkcours_project=self.webpackChunkcours_project||[]).push([[336,955],{691:(e,t,n)=>{n.d(t,{h:()=>c});var a,i=n(43);const l=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(null,arguments)}function o(e,t){let{title:n,titleId:o}=e,c=function(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,l);return i.createElement("svg",s({width:48,height:35,viewBox:"0 0 48 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},c),n?i.createElement("title",{id:o},n):null,i.createElement("defs",null,i.createElement("linearGradient",{id:"metallic-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},i.createElement("stop",{offset:"0%",style:{stopColor:"#e8e8e8",stopOpacity:1}}),i.createElement("stop",{offset:"25%",style:{stopColor:"#ffffff",stopOpacity:1}}),i.createElement("stop",{offset:"50%",style:{stopColor:"#c0c0c0",stopOpacity:1}}),i.createElement("stop",{offset:"75%",style:{stopColor:"#ffffff",stopOpacity:1}}),i.createElement("stop",{offset:"100%",style:{stopColor:"#e8e8e8",stopOpacity:1}}))),a||(a=i.createElement("path",{d:"M6.209 8.589L3.731 10.185L1.729 9.569L2.191 11.172L0 12.677L2.492 12.173L2.961 13.797L4.207 11.802L7 11.186L4.97 10.563L6.209 8.589ZM10.255 4.011L9.821 5.887L7.056 7.021L9.562 7.056L9.128 8.96L11.123 7.077L13.65 7.112L12.341 5.922L14.315 4.06L11.543 5.187L10.255 4.011ZM19.978 0.959L18.739 2.919L15.953 3.507L17.969 4.144L16.716 6.125L19.229 4.536L21.273 5.18L20.776 3.556L23.268 1.974L20.468 2.562L19.978 0.959ZM29.505 0L27.51 1.855L24.969 1.792L26.278 3.003L24.262 4.879L27.09 3.766L28.413 4.991L28.833 3.066L31.661 1.946L29.092 1.89L29.505 0ZM38.514 3.878L35.644 4.438L34.377 6.461L33.873 4.788L31.003 5.341L33.565 3.752L33.068 2.107L35.133 2.779L37.681 1.204L36.428 3.199L38.514 3.878ZM43.26 7.665L40.6 7.595L38.57 9.52L38.962 7.553L36.323 7.476L39.207 6.335L39.599 4.396L40.985 5.635L43.862 4.501L41.853 6.412L43.26 7.665ZM45.36 13.006L43.197 12.278L40.579 13.916L41.86 11.837L39.704 11.116L42.644 10.549L43.911 8.498L44.464 10.206L47.404 9.646L44.807 11.27L45.36 13.006ZM44.569 19.341L43.078 18.039L40.131 19.236L42.161 17.241L40.677 15.946L43.414 16.009L45.423 14.035L45.101 16.044L47.838 16.114L44.898 17.304L44.569 19.341ZM40.558 26.306L40.012 24.486L37.002 25.032L39.662 23.366L39.116 21.56L41.314 22.33L43.96 20.671L42.672 22.813L44.877 23.59L41.86 24.143L40.558 26.306ZM33.271 32.62L33.691 30.485L30.954 30.352L33.943 29.176L34.363 27.069L35.798 28.455L38.787 27.286L36.687 29.316L38.129 30.716L35.385 30.576L33.271 32.62ZM28.595 20.881L8.4 26.957C9.989 29.127 13.923 29.834 18.543 28.455C20.7591 27.7899 22.8398 26.7376 24.689 25.347L30.45 27.041C26.9965 29.9667 22.9728 32.143 18.634 33.432C8.4 36.477 0.252 33.432 0.364 26.789C0.476 20.3 8.435 12.782 18.2 9.8C27.965 6.818 36.344 9.415 36.694 15.827C36.738 16.7375 36.6388 17.6493 36.4 18.529L28.595 20.881ZM8.225 22.183L28.602 16.009C27.069 13.713 23.002 12.978 18.298 14.413C13.594 15.848 9.646 19.005 8.225 22.183Z",fill:"url(#metallic-gradient)"})))}const c=i.forwardRef(o);n.p},786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(43),i=n(833),l=n(631),s=n(90),o=n(691),c=n(996),r=n(579);const d=function(){const e=(0,i.Zp)(),[t,n]=(0,a.useState)([]),[d,L]=(0,a.useState)(!1),[m,f]=(0,a.useState)(null),[h,u]=(0,a.useState)(1);(0,a.useEffect)(()=>{localStorage.getItem("user")?p():e("/")},[e]);const p=()=>{const e=JSON.parse(localStorage.getItem("user")),t=(null===e||void 0===e?void 0:e.username)||"unknown",a=(0,c.Ss)(t);n(a)},g=()=>{L(!1),f(null)},b="admin"===JSON.parse(localStorage.getItem("user")||"{}").role?[{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",href:"#",action:"home"},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",href:"#",action:"history"},{label:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",href:"#",action:"notifications"},{label:"\u0410\u0434\u043c\u0438\u043d",href:"#",action:"admin"},{label:"\u0412\u044b\u0445\u043e\u0434",href:"#",action:"logout"}]:[{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",href:"#",action:"home"},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",href:"#",action:"history"},{label:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",href:"#",action:"notifications"},{label:"\u0412\u044b\u0445\u043e\u0434",href:"#",action:"logout"}],x=Math.ceil(t.length/4),j=4*(h-1),v=j+4,N=t.slice(j,v),y=e=>{u(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,r.jsxs)("div",{className:"notifications-page",children:[(0,r.jsx)("div",{className:"notifications-background",children:(0,r.jsx)(l.default,{enableRainbow:!1,gridColor:"#8a5cff",rippleIntensity:.01,gridSize:20,gridThickness:20,fadeDistance:2.5,vignetteStrength:1.5,glowIntensity:.2,mouseInteraction:!0,mouseInteractionRadius:1.2,opacity:.9})}),(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsx)("div",{className:"page-logo",children:(0,r.jsx)(o.h,{})}),(0,r.jsx)(s.default,{items:b,particleCount:15,particleDistances:[90,10],particleR:100,initialActiveIndex:2,animationTime:600,timeVariance:300,colors:[1,2,3,1,2,3,1,4],onItemClick:t=>{if("home"===t.action)e("/home");else if("history"===t.action)e("/history");else{if("notifications"===t.action)return;"admin"===t.action?e("/admin"):"logout"===t.action&&(localStorage.removeItem("user"),e("/"))}}})]}),(0,r.jsxs)("div",{className:"notifications-content",children:[(0,r.jsxs)("div",{className:"notifications-header",children:[(0,r.jsxs)("div",{className:"notifications-header-left",children:[(0,r.jsx)("button",{className:"btn-back",onClick:()=>{e("/home")},children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,r.jsx)("h1",{className:"notifications-title",children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"})]}),t.length>0&&(0,r.jsxs)("div",{className:"notifications-header-actions",children:[(0,r.jsx)("button",{className:"btn-mark-all-read",onClick:()=>{const e=JSON.parse(localStorage.getItem("user")),t=(null===e||void 0===e?void 0:e.username)||"unknown";(0,c.X0)(t),p()},children:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432\u0441\u0451"}),t.some(e=>e.read)&&(0,r.jsx)("button",{className:"btn-delete-all-read",onClick:()=>{const e=JSON.parse(localStorage.getItem("user")),t=(null===e||void 0===e?void 0:e.username)||"unknown";if((0,c.bW)(t)>0){p();const e=(0,c.Ss)(t),n=Math.ceil(e.length/4);h>n&&n>0?u(n):0===e.length&&u(1)}},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435"})]})]}),(0,r.jsx)("div",{className:"notifications-list",children:0===t.length?(0,r.jsxs)("div",{className:"empty-notifications",children:[(0,r.jsx)("div",{className:"empty-icon",children:"\ud83d\udd14"}),(0,r.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"})]}):N.map(e=>(0,r.jsxs)("div",{className:"notification-item ".concat(e.read?"read":"unread"," ").concat(e.type),children:[(0,r.jsxs)("div",{className:"notification-icon",children:["approved"===e.type&&"\u2713","rejected"===e.type&&"\u2717","info"===e.type&&"\u2139"]}),(0,r.jsxs)("div",{className:"notification-content",children:[(0,r.jsx)("h3",{children:e.fileName}),(0,r.jsx)("p",{children:e.message}),(0,r.jsx)("span",{className:"notification-time",children:new Date(e.timestamp).toLocaleString("ru-RU")})]}),(0,r.jsxs)("div",{className:"notification-actions",children:[!e.read&&(0,r.jsx)("button",{className:"btn-mark-read",onClick:()=>{return t=e.id,(0,c.aI)(t),void p();var t},title:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u043e\u0435",children:"\u2713"}),(0,r.jsx)("button",{className:"btn-delete-notification",onClick:()=>(e=>{f(e),L(!0)})(e),title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:"\ud83d\uddd1\ufe0f"})]})]},e.id))}),x>1&&(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("button",{className:"pagination-btn",onClick:()=>y(h-1),disabled:1===h,children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,r.jsx)("div",{className:"pagination-pages",children:Array.from({length:x},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{className:"pagination-page ".concat(h===e?"active":""),onClick:()=>y(e),children:e},e))}),(0,r.jsx)("button",{className:"pagination-btn",onClick:()=>y(h+1),disabled:h===x,children:"\u0412\u043f\u0435\u0440\u0451\u0434 \u2192"})]})]}),d&&(0,r.jsx)("div",{className:"modal-overlay",onClick:g,children:(0,r.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h2",{className:"modal-title",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435?"}),(0,r.jsx)("p",{className:"modal-text",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435?"}),(0,r.jsxs)("div",{className:"modal-buttons",children:[(0,r.jsx)("button",{className:"modal-btn modal-btn-cancel",onClick:g,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,r.jsx)("button",{className:"modal-btn modal-btn-confirm",onClick:()=>{if(m){(0,c.fP)(m.id),p(),L(!1),f(null);const e=Math.ceil((t.length-1)/4);h>e&&e>0&&u(e)}},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})]})}}}]);
//# sourceMappingURL=336.05da90ea.chunk.js.map