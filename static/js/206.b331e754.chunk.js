"use strict";(self.webpackChunkcours_project=self.webpackChunkcours_project||[]).push([[206],{191:(e,s,a)=>{a.d(s,{A:()=>n});a(43);var t=a(579);const n=e=>{let{isOpen:s,onClose:a,title:n,message:l,type:i="info",confirmText:r="OK"}=e;if(!s)return null;return(0,t.jsx)("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"modal-icon ".concat(i),children:["success"===i&&"\u2713","error"===i&&"\u2717","info"===i&&"\u2139","warning"===i&&"\u26a0"]}),(0,t.jsx)("h2",{className:"modal-title",children:n}),(0,t.jsx)("p",{className:"modal-message",children:l}),(0,t.jsx)("div",{className:"modal-buttons",children:(0,t.jsx)("button",{className:"modal-btn modal-btn-primary",onClick:a,children:r})})]})})}},206:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(555),n=a(43),l=a(833),i=a(631),r=a(90),c=a(191),o=a(579);const d=function(e){let{isOpen:s,onClose:a,onConfirm:t,title:n,message:l,confirmText:i="\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:r="\u041e\u0442\u043c\u0435\u043d\u0430"}=e;return s?(0,o.jsx)("div",{className:"confirm-modal-overlay",onClick:a,children:(0,o.jsxs)("div",{className:"confirm-modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"confirm-modal-header",children:[(0,o.jsx)("h2",{children:n}),(0,o.jsx)("button",{className:"confirm-modal-close",onClick:a,children:"\xd7"})]}),(0,o.jsx)("div",{className:"confirm-modal-body",children:(0,o.jsx)("p",{children:l})}),(0,o.jsxs)("div",{className:"confirm-modal-footer",children:[(0,o.jsx)("button",{className:"confirm-btn-cancel",onClick:a,children:r}),(0,o.jsx)("button",{className:"confirm-btn-delete",onClick:()=>{t(),a()},children:i})]})]})}):null};const m=function(e){let{isOpen:s,onClose:a,onConfirm:t,videoName:l}=e;const[i,r]=(0,n.useState)("");if(!s)return null;const c=()=>{r(""),a()};return(0,o.jsx)("div",{className:"reject-modal-overlay",onClick:c,children:(0,o.jsxs)("div",{className:"reject-modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsx)("div",{className:"reject-modal-header",children:(0,o.jsx)("h2",{children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e"})}),(0,o.jsxs)("div",{className:"reject-modal-body",children:[(0,o.jsxs)("p",{className:"reject-modal-video-name",children:["\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e ",(0,o.jsxs)("strong",{children:['"',l,'"']}),"?"]}),(0,o.jsxs)("div",{className:"reject-modal-input-group",children:[(0,o.jsx)("label",{htmlFor:"reject-reason",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),(0,o.jsx)("textarea",{id:"reject-reason",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f...",value:i,onChange:e=>r(e.target.value),rows:4})]})]}),(0,o.jsxs)("div",{className:"reject-modal-footer",children:[(0,o.jsx)("button",{className:"reject-btn-cancel",onClick:c,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,o.jsx)("button",{className:"reject-btn-confirm",onClick:()=>{t(i),r("")},children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"})]})]})})},u=e=>{let{isOpen:s,onClose:a,username:l,password:i,role:r}=e;const[c,d]=(0,n.useState)(!1),[m,u]=(0,n.useState)({username:!1,password:!1});if(!s)return null;const h=(e,s)=>{navigator.clipboard.writeText(e),u((0,t.A)((0,t.A)({},m),{},{[s]:!0})),setTimeout(()=>{u((0,t.A)((0,t.A)({},m),{},{[s]:!1}))},2e3)};return(0,o.jsx)("div",{className:"credentials-modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,o.jsxs)("div",{className:"credentials-modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsx)("div",{className:"credentials-modal-icon success",children:"\u2713"}),(0,o.jsx)("h2",{className:"credentials-modal-title",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d!"}),(0,o.jsxs)("div",{className:"credentials-info",children:[(0,o.jsxs)("div",{className:"credential-item",children:[(0,o.jsx)("label",{children:"\u041b\u043e\u0433\u0438\u043d:"}),(0,o.jsxs)("div",{className:"credential-value",children:[(0,o.jsx)("span",{className:"credential-text",children:l}),(0,o.jsx)("button",{className:"btn-copy",onClick:()=>h(l,"username"),title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:m.username?"\u2713":"\ud83d\udccb"})]})]}),(0,o.jsxs)("div",{className:"credential-item",children:[(0,o.jsx)("label",{children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),(0,o.jsxs)("div",{className:"credential-value",children:[(0,o.jsx)("span",{className:"credential-text",children:c?i:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,o.jsx)("button",{className:"btn-toggle-password",onClick:()=>d(!c),title:c?"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",children:c?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"}),(0,o.jsx)("button",{className:"btn-copy",onClick:()=>h(i,"password"),title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:m.password?"\u2713":"\ud83d\udccb"})]})]}),(0,o.jsxs)("div",{className:"credential-item",children:[(0,o.jsx)("label",{children:"\u0420\u043e\u043b\u044c:"}),(0,o.jsx)("div",{className:"credential-value",children:(0,o.jsx)("span",{className:"role-badge ".concat(r),children:"admin"===r?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"})})]})]}),(0,o.jsx)("div",{className:"credentials-info-message",children:"\u2139\ufe0f \u0423\u0447\u0451\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0445 \u0432 \u043b\u044e\u0431\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439."}),(0,o.jsx)("div",{className:"credentials-modal-buttons",children:(0,o.jsx)("button",{className:"credentials-btn-primary",onClick:a,children:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"})})]})})};var h=a(691),p=a(996);const x=function(){var e;const s=(0,l.Zp)(),[a,x]=(0,n.useState)("users"),[j,N]=(0,n.useState)([]),[f,g]=(0,n.useState)([]),[v,L]=(0,n.useState)([]),[b,C]=(0,n.useState)({isOpen:!1,title:"",message:"",type:"info"}),[y,O]=(0,n.useState)({isOpen:!1,username:"",password:"",role:""}),[S,k]=(0,n.useState)({firstName:"",lastName:"",middleName:"",role:"user"}),[w,A]=(0,n.useState)({recipient:"all",title:"",message:""}),[I,M]=(0,n.useState)({}),[E,Z]=(0,n.useState)(""),[T,J]=(0,n.useState)(1),[q,F]=(0,n.useState)(1),[P,D]=(0,n.useState)({isOpen:!1,username:"",userFullName:""}),[R,U]=(0,n.useState)({isOpen:!1,video:null,index:-1});(0,n.useEffect)(()=>{const e=localStorage.getItem("user");if(!e)return void s("/");"admin"===JSON.parse(e).role?(V(),z(),Q()):s("/home")},[s]);const V=()=>{const e=localStorage.getItem("users");if(e){const s=JSON.parse(e);N(s.users||[])}},z=()=>{const e=localStorage.getItem("adminQueue"),s=e?JSON.parse(e):[];g(s)},Q=()=>{const e=localStorage.getItem("approvedVideos"),s=e?JSON.parse(e):[];L(s)},B=e=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let t=0;t<e;t++)a+=s.charAt(Math.floor(62*Math.random()));return a},G=j.filter(e=>{if(!E.trim())return!0;const s=E.toLowerCase();return e.username.toLowerCase().includes(s)||e.firstName.toLowerCase().includes(s)||e.lastName.toLowerCase().includes(s)||e.middleName&&e.middleName.toLowerCase().includes(s)}),K=G.filter(e=>"user"===e.role).length,W=G.filter(e=>"admin"===e.role).length,_=Math.ceil(G.length/4),H=4*(T-1),X=H+4,Y=G.slice(H,X),$=e=>{Z(e),J(1)},ee=()=>{0!==v.length&&(L([]),localStorage.setItem("approvedVideos",JSON.stringify([])),F(1),C({isOpen:!0,title:"\u041e\u0447\u0438\u0449\u0435\u043d\u043e",message:"\u0412\u0441\u0435 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.",type:"success"}))};return(0,o.jsxs)("div",{className:"admin-page",children:[(0,o.jsx)("div",{className:"admin-background",children:(0,o.jsx)(i.default,{enableRainbow:!1,gridColor:"#8a5cff",rippleIntensity:.01,gridSize:20,gridThickness:20,fadeDistance:2.5,vignetteStrength:1.5,glowIntensity:.2,mouseInteraction:!0,mouseInteractionRadius:1.2,opacity:.9})}),(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsx)("div",{className:"page-logo",children:(0,o.jsx)(h.h,{})}),(0,o.jsx)(r.default,{items:[{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",href:"#",action:"home"},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",href:"#",action:"history"},{label:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",href:"#",action:"notifications"},{label:"\u0410\u0434\u043c\u0438\u043d",href:"#",action:"admin"},{label:"\u0412\u044b\u0445\u043e\u0434",href:"#",action:"logout"}],particleCount:15,particleDistances:[90,10],particleR:100,initialActiveIndex:3,animationTime:600,timeVariance:300,colors:[1,2,3,1,2,3,1,4],onItemClick:e=>{if("home"===e.action)s("/home");else if("history"===e.action)s("/history");else if("notifications"===e.action)s("/notifications");else{if("admin"===e.action)return;"logout"===e.action&&(localStorage.removeItem("user"),s("/"))}}})]}),(0,o.jsxs)("div",{className:"admin-content",children:[(0,o.jsx)("h1",{className:"admin-title",children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"}),(0,o.jsxs)("div",{className:"admin-tabs",children:[(0,o.jsx)("button",{className:"tab-btn ".concat("users"===a?"active":""),onClick:()=>x("users"),children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,o.jsxs)("button",{className:"tab-btn ".concat("queue"===a?"active":""),onClick:()=>x("queue"),children:["\u041e\u0447\u0435\u0440\u0435\u0434\u044c (",f.length,")"]}),(0,o.jsxs)("button",{className:"tab-btn ".concat("approved"===a?"active":""),onClick:()=>x("approved"),children:["\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0435 (",v.length,")"]}),(0,o.jsx)("button",{className:"tab-btn ".concat("notifications"===a?"active":""),onClick:()=>x("notifications"),children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430"})]}),(0,o.jsxs)("div",{className:"tab-content",children:["users"===a&&(0,o.jsxs)("div",{className:"users-tab",children:[(0,o.jsxs)("div",{className:"create-user-form",children:[(0,o.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsx)("input",{type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:S.lastName,onChange:e=>k((0,t.A)((0,t.A)({},S),{},{lastName:e.target.value}))}),(0,o.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f",value:S.firstName,onChange:e=>k((0,t.A)((0,t.A)({},S),{},{firstName:e.target.value}))}),(0,o.jsx)("input",{type:"text",placeholder:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",value:S.middleName,onChange:e=>k((0,t.A)((0,t.A)({},S),{},{middleName:e.target.value}))}),(0,o.jsxs)("select",{value:S.role,onChange:e=>k((0,t.A)((0,t.A)({},S),{},{role:e.target.value})),children:[(0,o.jsx)("option",{value:"user",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,o.jsx)("option",{value:"admin",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"})]})]}),(0,o.jsx)("button",{className:"btn-create-user",onClick:()=>{if(!S.firstName||!S.lastName)return void C({isOpen:!0,title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",type:"error"});const e=B(8),s=B(8),a={username:e,password:s,role:S.role,firstName:S.firstName,lastName:S.lastName,middleName:S.middleName,createdAt:Date.now()},t=[...j,a];N(t),localStorage.setItem("users",JSON.stringify({users:t})),O({isOpen:!0,username:e,password:s,role:S.role}),k({firstName:"",lastName:"",middleName:"",role:"user"})},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]}),(0,o.jsxs)("div",{className:"users-list",children:[(0,o.jsxs)("div",{className:"users-list-header",children:[(0,o.jsxs)("h2",{children:["\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 (",K," / ",W,")"]}),(0,o.jsxs)("div",{className:"search-box",children:[(0,o.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443, \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u0438...",value:E,onChange:e=>$(e.target.value),className:"search-input"}),E&&(0,o.jsx)("button",{className:"search-clear",onClick:()=>$(""),title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a",children:"\xd7"})]})]}),0===G.length?(0,o.jsx)("div",{className:"no-users-found",children:(0,o.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})}):(0,o.jsxs)(o.Fragment,{children:[Y.map((e,s)=>(0,o.jsxs)("div",{className:"user-item",children:[(0,o.jsxs)("div",{className:"user-info",children:[(0,o.jsxs)("h3",{children:[e.lastName," ",e.firstName," ",e.middleName]}),(0,o.jsxs)("p",{children:["\u041b\u043e\u0433\u0438\u043d: ",(0,o.jsx)("strong",{children:e.username})]}),(0,o.jsxs)("p",{className:"password-field",children:["\u041f\u0430\u0440\u043e\u043b\u044c:",(0,o.jsx)("strong",{className:"password-value",children:I[e.username]?e.password:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,o.jsx)("button",{className:"btn-toggle-password-inline",onClick:()=>M((0,t.A)((0,t.A)({},I),{},{[e.username]:!I[e.username]})),title:I[e.username]?"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",children:I[e.username]?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),(0,o.jsxs)("p",{children:["\u0420\u043e\u043b\u044c: ",(0,o.jsx)("span",{className:"role-badge ".concat(e.role),children:"admin"===e.role?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"})]})]}),(0,o.jsx)("button",{className:"btn-delete-user",onClick:()=>(e=>{"Admin"!==e.username?D({isOpen:!0,username:e.username,userFullName:"".concat(e.lastName," ").concat(e.firstName," ").concat(e.middleName||"").trim()}):C({isOpen:!0,title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",type:"error"})})(e),disabled:"Admin"===e.username,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},s)),_>1&&(0,o.jsxs)("div",{className:"pagination",children:[(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{T>1&&J(T-1)},disabled:1===T,children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,o.jsx)("div",{className:"pagination-pages",children:Array.from({length:_},(e,s)=>s+1).map(e=>(0,o.jsx)("button",{className:"pagination-page ".concat(e===T?"active":""),onClick:()=>(e=>{e>=1&&e<=_&&J(e)})(e),children:e},e))}),(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{T<_&&J(T+1)},disabled:T===_,children:"\u0412\u043f\u0435\u0440\u0451\u0434 \u2192"})]})]})]})]}),"queue"===a&&(0,o.jsxs)("div",{className:"queue-tab",children:[(0,o.jsxs)("h2",{children:["\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435 (",f.length,")"]}),0===f.length?(0,o.jsx)("div",{className:"empty-queue",children:(0,o.jsx)("p",{children:"\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0443\u0441\u0442\u0430"})}):f.map((e,s)=>(0,o.jsxs)("div",{className:"queue-item",children:[e.thumbnail&&(0,o.jsx)("div",{className:"queue-thumbnail",children:(0,o.jsx)("img",{src:e.thumbnail,alt:e.fileName})}),(0,o.jsxs)("div",{className:"queue-info",children:[(0,o.jsx)("h3",{children:e.fileName}),(0,o.jsxs)("p",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,o.jsx)("strong",{children:e.username})]}),(0,o.jsxs)("p",{children:["\u0414\u0430\u0442\u0430: ",new Date(e.timestamp).toLocaleString("ru-RU")]}),(0,o.jsxs)("p",{children:["\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b: ",e.resolution," \u2022 ",e.duration," \u2022 ",e.fileSize]})]}),(0,o.jsxs)("div",{className:"queue-actions",children:[(0,o.jsx)("button",{className:"btn-approve",onClick:()=>((e,s)=>{(0,p.eU)(e.username,e.fileName);const a=[(0,t.A)((0,t.A)({},e),{},{approvedAt:Date.now()}),...v];L(a),localStorage.setItem("approvedVideos",JSON.stringify(a));const n=f.filter((e,a)=>a!==s);g(n),localStorage.setItem("adminQueue",JSON.stringify(n)),C({isOpen:!0,title:"\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043e",message:'\u0412\u0438\u0434\u0435\u043e "'.concat(e.fileName,'" \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043e. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435.'),type:"success"})})(e,s),children:"\u2713 \u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"}),(0,o.jsx)("button",{className:"btn-reject",onClick:()=>((e,s)=>{U({isOpen:!0,video:e,index:s})})(e,s),children:"\u2717 \u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"})]})]},s))]}),"approved"===a&&(0,o.jsxs)("div",{className:"approved-tab",children:[(0,o.jsxs)("h2",{children:["\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043e (",v.length,")"]}),0===v.length?(0,o.jsx)("div",{className:"empty-approved",children:(0,o.jsx)("p",{children:"\u041d\u0435\u0442 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e"})}):(0,o.jsx)(o.Fragment,{children:(()=>{const e=Math.ceil(v.length/4),s=4*(q-1),a=s+4,t=v.slice(s,a);return(0,o.jsxs)(o.Fragment,{children:[t.map((e,a)=>(0,o.jsxs)("div",{className:"approved-item",children:[e.thumbnail&&(0,o.jsx)("div",{className:"approved-thumbnail",children:(0,o.jsx)("img",{src:e.thumbnail,alt:e.fileName})}),(0,o.jsxs)("div",{className:"approved-info",children:[(0,o.jsx)("h3",{children:e.fileName}),(0,o.jsxs)("p",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,o.jsx)("strong",{children:e.username})]}),(0,o.jsxs)("p",{children:["\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e: ",new Date(e.timestamp).toLocaleString("ru-RU")]}),(0,o.jsxs)("p",{children:["\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u043e: ",new Date(e.approvedAt).toLocaleString("ru-RU")]}),(0,o.jsxs)("p",{children:["\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b: ",e.resolution," \u2022 ",e.duration," \u2022 ",e.fileSize]})]})]},s+a)),(0,o.jsxs)("div",{className:"pagination",children:[e>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{q>1&&F(q-1)},disabled:1===q,children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,o.jsx)("div",{className:"pagination-pages",children:Array.from({length:e},(e,s)=>s+1).map(e=>(0,o.jsx)("button",{className:"pagination-page ".concat(e===q?"active":""),onClick:()=>F(e),children:e},e))}),(0,o.jsx)("button",{className:"pagination-btn",onClick:()=>{q<e&&F(q+1)},disabled:q===e,children:"\u0412\u043f\u0435\u0440\u0451\u0434 \u2192"})]}),(0,o.jsx)("button",{className:"btn-clear-approved",onClick:ee,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0451"})]})]})})()})]}),"notifications"===a&&(0,o.jsxs)("div",{className:"notifications-tab",children:[(0,o.jsx)("h2",{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"}),(0,o.jsxs)("div",{className:"notification-form",children:[(0,o.jsxs)("select",{value:w.recipient,onChange:e=>A((0,t.A)((0,t.A)({},w),{},{recipient:e.target.value})),children:[(0,o.jsx)("option",{value:"all",children:"\u0412\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"}),j.map((e,s)=>(0,o.jsxs)("option",{value:e.username,children:[e.firstName," ",e.lastName," (",e.username,")"]},s))]}),(0,o.jsx)("input",{type:"text",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",value:w.title,onChange:e=>A((0,t.A)((0,t.A)({},w),{},{title:e.target.value}))}),(0,o.jsx)("textarea",{placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",value:w.message,onChange:e=>A((0,t.A)((0,t.A)({},w),{},{message:e.target.value})),rows:5}),(0,o.jsx)("button",{className:"btn-send-notification",onClick:()=>{w.title&&w.message?("all"===w.recipient?(j.forEach(e=>{(0,p.uA)(e.username,w.title,w.message)}),C({isOpen:!0,title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c (".concat(j.length,")"),type:"success"})):((0,p.uA)(w.recipient,w.title,w.message),C({isOpen:!0,title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e ".concat(w.recipient),type:"success"})),A({recipient:"all",title:"",message:""})):C({isOpen:!0,title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",type:"error"})},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"})]})]})]})]}),(0,o.jsx)(c.A,{isOpen:b.isOpen,onClose:()=>{C({isOpen:!1,title:"",message:"",type:"info"})},title:b.title,message:b.message,type:b.type}),(0,o.jsx)(u,{isOpen:y.isOpen,onClose:()=>O((0,t.A)((0,t.A)({},y),{},{isOpen:!1})),username:y.username,password:y.password,role:y.role}),(0,o.jsx)(d,{isOpen:P.isOpen,onClose:()=>D((0,t.A)((0,t.A)({},P),{},{isOpen:!1})),onConfirm:()=>{const e=P.username,s=j.filter(s=>s.username!==e);N(s),localStorage.setItem("users",JSON.stringify({users:s})),C({isOpen:!0,title:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0451\u043d",type:"success"})},title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "'.concat(P.userFullName,'" (').concat(P.username,")? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,o.jsx)(m,{isOpen:R.isOpen,onClose:()=>U({isOpen:!1,video:null,index:-1}),onConfirm:e=>{const{video:s,index:a}=R;(0,p.pW)(s.username,s.fileName,e||"");const t=f.filter((e,s)=>s!==a);g(t),localStorage.setItem("adminQueue",JSON.stringify(t)),U({isOpen:!1,video:null,index:-1}),C({isOpen:!0,title:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e",message:'\u0412\u0438\u0434\u0435\u043e "'.concat(s.fileName,'" \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435.'),type:"info"})},videoName:(null===(e=R.video)||void 0===e?void 0:e.fileName)||""})]})}},691:(e,s,a)=>{a.d(s,{h:()=>c});var t,n=a(43);const l=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},i.apply(null,arguments)}function r(e,s){let{title:a,titleId:r}=e,c=function(e,s){if(null==e)return{};var a,t,n=function(e,s){if(null==e)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==s.indexOf(t))continue;a[t]=e[t]}return a}(e,s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],-1===s.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,l);return n.createElement("svg",i({width:48,height:35,viewBox:"0 0 48 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,n.createElement("defs",null,n.createElement("linearGradient",{id:"metallic-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},n.createElement("stop",{offset:"0%",style:{stopColor:"#e8e8e8",stopOpacity:1}}),n.createElement("stop",{offset:"25%",style:{stopColor:"#ffffff",stopOpacity:1}}),n.createElement("stop",{offset:"50%",style:{stopColor:"#c0c0c0",stopOpacity:1}}),n.createElement("stop",{offset:"75%",style:{stopColor:"#ffffff",stopOpacity:1}}),n.createElement("stop",{offset:"100%",style:{stopColor:"#e8e8e8",stopOpacity:1}}))),t||(t=n.createElement("path",{d:"M6.209 8.589L3.731 10.185L1.729 9.569L2.191 11.172L0 12.677L2.492 12.173L2.961 13.797L4.207 11.802L7 11.186L4.97 10.563L6.209 8.589ZM10.255 4.011L9.821 5.887L7.056 7.021L9.562 7.056L9.128 8.96L11.123 7.077L13.65 7.112L12.341 5.922L14.315 4.06L11.543 5.187L10.255 4.011ZM19.978 0.959L18.739 2.919L15.953 3.507L17.969 4.144L16.716 6.125L19.229 4.536L21.273 5.18L20.776 3.556L23.268 1.974L20.468 2.562L19.978 0.959ZM29.505 0L27.51 1.855L24.969 1.792L26.278 3.003L24.262 4.879L27.09 3.766L28.413 4.991L28.833 3.066L31.661 1.946L29.092 1.89L29.505 0ZM38.514 3.878L35.644 4.438L34.377 6.461L33.873 4.788L31.003 5.341L33.565 3.752L33.068 2.107L35.133 2.779L37.681 1.204L36.428 3.199L38.514 3.878ZM43.26 7.665L40.6 7.595L38.57 9.52L38.962 7.553L36.323 7.476L39.207 6.335L39.599 4.396L40.985 5.635L43.862 4.501L41.853 6.412L43.26 7.665ZM45.36 13.006L43.197 12.278L40.579 13.916L41.86 11.837L39.704 11.116L42.644 10.549L43.911 8.498L44.464 10.206L47.404 9.646L44.807 11.27L45.36 13.006ZM44.569 19.341L43.078 18.039L40.131 19.236L42.161 17.241L40.677 15.946L43.414 16.009L45.423 14.035L45.101 16.044L47.838 16.114L44.898 17.304L44.569 19.341ZM40.558 26.306L40.012 24.486L37.002 25.032L39.662 23.366L39.116 21.56L41.314 22.33L43.96 20.671L42.672 22.813L44.877 23.59L41.86 24.143L40.558 26.306ZM33.271 32.62L33.691 30.485L30.954 30.352L33.943 29.176L34.363 27.069L35.798 28.455L38.787 27.286L36.687 29.316L38.129 30.716L35.385 30.576L33.271 32.62ZM28.595 20.881L8.4 26.957C9.989 29.127 13.923 29.834 18.543 28.455C20.7591 27.7899 22.8398 26.7376 24.689 25.347L30.45 27.041C26.9965 29.9667 22.9728 32.143 18.634 33.432C8.4 36.477 0.252 33.432 0.364 26.789C0.476 20.3 8.435 12.782 18.2 9.8C27.965 6.818 36.344 9.415 36.694 15.827C36.738 16.7375 36.6388 17.6493 36.4 18.529L28.595 20.881ZM8.225 22.183L28.602 16.009C27.069 13.713 23.002 12.978 18.298 14.413C13.594 15.848 9.646 19.005 8.225 22.183Z",fill:"url(#metallic-gradient)"})))}const c=n.forwardRef(r);a.p}}]);
//# sourceMappingURL=206.b331e754.chunk.js.map