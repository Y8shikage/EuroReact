{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\F1toF\\\\OneDrive\\\\Desktop\\\\cours\\\\cours\\\\cours-project\\\\src\\\\pages\\\\AdminPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport RippleGrid from '../components/RippleGrid';\nimport GooeyNav from '../components/GooeyNav';\nimport Modal from '../components/Modal';\nimport UserCredentialsModal from '../components/UserCredentialsModal';\nimport { ReactComponent as EuroLogo } from '../assets/logos/euro-logo.svg';\nimport { notifyVideoApproved, notifyVideoRejected, notifyInfo } from '../utils/notificationManager';\nimport './AdminPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminPage() {\n  _s();\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('users'); // users, queue, notifications\n  const [users, setUsers] = useState([]);\n  const [queue, setQueue] = useState([]);\n  const [modalState, setModalState] = useState({\n    isOpen: false,\n    title: '',\n    message: '',\n    type: 'info'\n  });\n  const [credentialsModal, setCredentialsModal] = useState({\n    isOpen: false,\n    username: '',\n    password: '',\n    role: ''\n  });\n\n  // Форма создания пользователя\n  const [newUser, setNewUser] = useState({\n    firstName: '',\n    lastName: '',\n    middleName: '',\n    role: 'user'\n  });\n\n  // Форма рассылки уведомлений\n  const [notification, setNotification] = useState({\n    recipient: 'all',\n    // all или конкретный username\n    title: '',\n    message: ''\n  });\n  useEffect(() => {\n    // Проверяем авторизацию и права админа\n    const user = localStorage.getItem('user');\n    if (!user) {\n      navigate('/');\n      return;\n    }\n    const userData = JSON.parse(user);\n    if (userData.role !== 'admin') {\n      navigate('/home');\n      return;\n    }\n    loadUsers();\n    loadQueue();\n  }, [navigate]);\n  const loadUsers = () => {\n    const savedUsers = localStorage.getItem('users');\n    if (savedUsers) {\n      const usersData = JSON.parse(savedUsers);\n      setUsers(usersData.users || []);\n    }\n  };\n  const loadQueue = () => {\n    const savedQueue = localStorage.getItem('adminQueue');\n    const queueData = savedQueue ? JSON.parse(savedQueue) : [];\n    setQueue(queueData);\n  };\n  const generateRandomString = length => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let result = '';\n    for (let i = 0; i < length; i++) {\n      result += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return result;\n  };\n  const handleCreateUser = () => {\n    if (!newUser.firstName || !newUser.lastName) {\n      setModalState({\n        isOpen: true,\n        title: 'Ошибка',\n        message: 'Заполните имя и фамилию',\n        type: 'error'\n      });\n      return;\n    }\n    const username = generateRandomString(8);\n    const password = generateRandomString(8);\n    const userToAdd = {\n      username,\n      password,\n      role: newUser.role,\n      firstName: newUser.firstName,\n      lastName: newUser.lastName,\n      middleName: newUser.middleName,\n      createdAt: Date.now()\n    };\n    const updatedUsers = [...users, userToAdd];\n    setUsers(updatedUsers);\n\n    // Сохраняем в localStorage\n    localStorage.setItem('users', JSON.stringify({\n      users: updatedUsers\n    }));\n\n    // Показываем модальное окно с учётными данными\n    setCredentialsModal({\n      isOpen: true,\n      username: username,\n      password: password,\n      role: newUser.role\n    });\n\n    // Очищаем форму\n    setNewUser({\n      firstName: '',\n      lastName: '',\n      middleName: '',\n      role: 'user'\n    });\n  };\n  const handleDeleteUser = username => {\n    if (username === 'Admin') {\n      setModalState({\n        isOpen: true,\n        title: 'Ошибка',\n        message: 'Нельзя удалить главного администратора',\n        type: 'error'\n      });\n      return;\n    }\n    const updatedUsers = users.filter(u => u.username !== username);\n    setUsers(updatedUsers);\n    localStorage.setItem('users', JSON.stringify({\n      users: updatedUsers\n    }));\n    setModalState({\n      isOpen: true,\n      title: 'Успешно',\n      message: 'Пользователь удалён',\n      type: 'success'\n    });\n  };\n  const handleApproveVideo = (video, index) => {\n    // Отправляем уведомление пользователю\n    notifyVideoApproved(video.username, video.fileName);\n\n    // Удаляем из очереди\n    const updatedQueue = queue.filter((_, i) => i !== index);\n    setQueue(updatedQueue);\n    localStorage.setItem('adminQueue', JSON.stringify(updatedQueue));\n    setModalState({\n      isOpen: true,\n      title: 'Одобрено',\n      message: `Видео \"${video.fileName}\" одобрено. Пользователь получит уведомление.`,\n      type: 'success'\n    });\n  };\n  const handleRejectVideo = (video, index) => {\n    const reason = prompt('Укажите причину отклонения (необязательно):');\n\n    // Отправляем уведомление пользователю\n    notifyVideoRejected(video.username, video.fileName, reason || '');\n\n    // Удаляем из очереди\n    const updatedQueue = queue.filter((_, i) => i !== index);\n    setQueue(updatedQueue);\n    localStorage.setItem('adminQueue', JSON.stringify(updatedQueue));\n    setModalState({\n      isOpen: true,\n      title: 'Отклонено',\n      message: `Видео \"${video.fileName}\" отклонено. Пользователь получит уведомление.`,\n      type: 'info'\n    });\n  };\n  const handleSendNotification = () => {\n    if (!notification.title || !notification.message) {\n      setModalState({\n        isOpen: true,\n        title: 'Ошибка',\n        message: 'Заполните заголовок и сообщение',\n        type: 'error'\n      });\n      return;\n    }\n    if (notification.recipient === 'all') {\n      // Отправляем всем пользователям\n      users.forEach(user => {\n        notifyInfo(user.username, notification.title, notification.message);\n      });\n      setModalState({\n        isOpen: true,\n        title: 'Отправлено',\n        message: `Уведомление отправлено всем пользователям (${users.length})`,\n        type: 'success'\n      });\n    } else {\n      // Отправляем конкретному пользователю\n      notifyInfo(notification.recipient, notification.title, notification.message);\n      setModalState({\n        isOpen: true,\n        title: 'Отправлено',\n        message: `Уведомление отправлено пользователю ${notification.recipient}`,\n        type: 'success'\n      });\n    }\n\n    // Очищаем форму\n    setNotification({\n      recipient: 'all',\n      title: '',\n      message: ''\n    });\n  };\n  const handleNavClick = item => {\n    if (item.action === 'home') {\n      navigate('/home');\n    } else if (item.action === 'history') {\n      navigate('/history');\n    } else if (item.action === 'notifications') {\n      navigate('/notifications');\n    } else if (item.action === 'admin') {\n      // Уже на админ-панели\n      return;\n    } else if (item.action === 'logout') {\n      localStorage.removeItem('user');\n      navigate('/');\n    }\n  };\n  const navItems = [{\n    label: 'Главная',\n    href: '#',\n    action: 'home'\n  }, {\n    label: 'История',\n    href: '#',\n    action: 'history'\n  }, {\n    label: 'Уведомления',\n    href: '#',\n    action: 'notifications'\n  }, {\n    label: 'Админ',\n    href: '#',\n    action: 'admin'\n  }, {\n    label: 'Выход',\n    href: '#',\n    action: 'logout'\n  }];\n  const closeModal = () => {\n    setModalState({\n      isOpen: false,\n      title: '',\n      message: '',\n      type: 'info'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-background\",\n      children: /*#__PURE__*/_jsxDEV(RippleGrid, {\n        enableRainbow: false,\n        gridColor: \"#8a5cff\",\n        rippleIntensity: 0.01,\n        gridSize: 20,\n        gridThickness: 20,\n        fadeDistance: 2.5,\n        vignetteStrength: 1.5,\n        glowIntensity: 0.2,\n        mouseInteraction: true,\n        mouseInteractionRadius: 1.2,\n        opacity: 0.9\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-logo\",\n        children: /*#__PURE__*/_jsxDEV(EuroLogo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GooeyNav, {\n        items: navItems,\n        particleCount: 15,\n        particleDistances: [90, 10],\n        particleR: 100,\n        initialActiveIndex: 3,\n        animationTime: 600,\n        timeVariance: 300,\n        colors: [1, 2, 3, 1, 2, 3, 1, 4],\n        onItemClick: handleNavClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"admin-title\",\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'users' ? 'active' : ''}`,\n          onClick: () => setActiveTab('users'),\n          children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'queue' ? 'active' : ''}`,\n          onClick: () => setActiveTab('queue'),\n          children: [\"\\u041E\\u0447\\u0435\\u0440\\u0435\\u0434\\u044C (\", queue.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'notifications' ? 'active' : ''}`,\n          onClick: () => setActiveTab('notifications'),\n          children: \"\\u0420\\u0430\\u0441\\u0441\\u044B\\u043B\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-content\",\n        children: [activeTab === 'users' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"users-tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"create-user-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n                value: newUser.lastName,\n                onChange: e => setNewUser({\n                  ...newUser,\n                  lastName: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u0418\\u043C\\u044F\",\n                value: newUser.firstName,\n                onChange: e => setNewUser({\n                  ...newUser,\n                  firstName: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E (\\u043D\\u0435\\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\",\n                value: newUser.middleName,\n                onChange: e => setNewUser({\n                  ...newUser,\n                  middleName: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newUser.role,\n                onChange: e => setNewUser({\n                  ...newUser,\n                  role: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"user\",\n                  children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"admin\",\n                  children: \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-create-user\",\n              onClick: handleCreateUser,\n              children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"users-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439 (\", users.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), users.map((user, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [user.lastName, \" \", user.firstName, \" \", user.middleName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u041B\\u043E\\u0433\\u0438\\u043D: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: user.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u0420\\u043E\\u043B\\u044C: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `role-badge ${user.role}`,\n                    children: user.role === 'admin' ? 'Администратор' : 'Пользователь'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 32\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-delete-user\",\n                onClick: () => handleDeleteUser(user.username),\n                disabled: user.username === 'Admin',\n                children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), activeTab === 'queue' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"queue-tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"\\u041E\\u0447\\u0435\\u0440\\u0435\\u0434\\u044C \\u043D\\u0430 \\u043E\\u0434\\u043E\\u0431\\u0440\\u0435\\u043D\\u0438\\u0435 (\", queue.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), queue.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-queue\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041E\\u0447\\u0435\\u0440\\u0435\\u0434\\u044C \\u043F\\u0443\\u0441\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this) : queue.map((video, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"queue-item\",\n            children: [video.thumbnail && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"queue-thumbnail\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: video.thumbnail,\n                alt: video.fileName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"queue-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: video.fileName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: video.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0414\\u0430\\u0442\\u0430: \", new Date(video.timestamp).toLocaleString('ru-RU')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u041F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B: \", video.resolution, \" \\u2022 \", video.duration, \" \\u2022 \", video.fileSize]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"queue-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-approve\",\n                onClick: () => handleApproveVideo(video, index),\n                children: \"\\u2713 \\u041E\\u0434\\u043E\\u0431\\u0440\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-reject\",\n                onClick: () => handleRejectVideo(video, index),\n                children: \"\\u2717 \\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this), activeTab === 'notifications' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notifications-tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u0420\\u0430\\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: notification.recipient,\n              onChange: e => setNotification({\n                ...notification,\n                recipient: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"\\u0412\\u0441\\u0435\\u043C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), users.map((user, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.username,\n                children: [user.firstName, \" \", user.lastName, \" (\", user.username, \")\"]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\",\n              value: notification.title,\n              onChange: e => setNotification({\n                ...notification,\n                title: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\",\n              value: notification.message,\n              onChange: e => setNotification({\n                ...notification,\n                message: e.target.value\n              }),\n              rows: 5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-send-notification\",\n              onClick: handleSendNotification,\n              children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalState.isOpen,\n      onClose: closeModal,\n      title: modalState.title,\n      message: modalState.message,\n      type: modalState.type\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPage, \"h7DIDqaHpHqM4AvqdD8RfB0en5k=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminPage;\nexport default AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","RippleGrid","GooeyNav","Modal","UserCredentialsModal","ReactComponent","EuroLogo","notifyVideoApproved","notifyVideoRejected","notifyInfo","jsxDEV","_jsxDEV","AdminPage","_s","navigate","activeTab","setActiveTab","users","setUsers","queue","setQueue","modalState","setModalState","isOpen","title","message","type","credentialsModal","setCredentialsModal","username","password","role","newUser","setNewUser","firstName","lastName","middleName","notification","setNotification","recipient","user","localStorage","getItem","userData","JSON","parse","loadUsers","loadQueue","savedUsers","usersData","savedQueue","queueData","generateRandomString","length","chars","result","i","charAt","Math","floor","random","handleCreateUser","userToAdd","createdAt","Date","now","updatedUsers","setItem","stringify","handleDeleteUser","filter","u","handleApproveVideo","video","index","fileName","updatedQueue","_","handleRejectVideo","reason","prompt","handleSendNotification","forEach","handleNavClick","item","action","removeItem","navItems","label","href","closeModal","className","children","enableRainbow","gridColor","rippleIntensity","gridSize","gridThickness","fadeDistance","vignetteStrength","glowIntensity","mouseInteraction","mouseInteractionRadius","opacity","_jsxFileName","lineNumber","columnNumber","items","particleCount","particleDistances","particleR","initialActiveIndex","animationTime","timeVariance","colors","onItemClick","onClick","placeholder","value","onChange","e","target","map","disabled","thumbnail","src","alt","timestamp","toLocaleString","resolution","duration","fileSize","rows","onClose","_c","$RefreshReg$"],"sources":["C:/Users/F1toF/OneDrive/Desktop/cours/cours/cours-project/src/pages/AdminPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport RippleGrid from '../components/RippleGrid';\r\nimport GooeyNav from '../components/GooeyNav';\r\nimport Modal from '../components/Modal';\r\nimport UserCredentialsModal from '../components/UserCredentialsModal';\r\nimport { ReactComponent as EuroLogo } from '../assets/logos/euro-logo.svg';\r\nimport { notifyVideoApproved, notifyVideoRejected, notifyInfo } from '../utils/notificationManager';\r\nimport './AdminPage.css';\r\n\r\nfunction AdminPage() {\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('users'); // users, queue, notifications\r\n  const [users, setUsers] = useState([]);\r\n  const [queue, setQueue] = useState([]);\r\n  const [modalState, setModalState] = useState({\r\n    isOpen: false,\r\n    title: '',\r\n    message: '',\r\n    type: 'info'\r\n  });\r\n\r\n  const [credentialsModal, setCredentialsModal] = useState({\r\n    isOpen: false,\r\n    username: '',\r\n    password: '',\r\n    role: ''\r\n  });\r\n\r\n  // Форма создания пользователя\r\n  const [newUser, setNewUser] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    middleName: '',\r\n    role: 'user'\r\n  });\r\n\r\n  // Форма рассылки уведомлений\r\n  const [notification, setNotification] = useState({\r\n    recipient: 'all', // all или конкретный username\r\n    title: '',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Проверяем авторизацию и права админа\r\n    const user = localStorage.getItem('user');\r\n    if (!user) {\r\n      navigate('/');\r\n      return;\r\n    }\r\n\r\n    const userData = JSON.parse(user);\r\n    if (userData.role !== 'admin') {\r\n      navigate('/home');\r\n      return;\r\n    }\r\n\r\n    loadUsers();\r\n    loadQueue();\r\n  }, [navigate]);\r\n\r\n  const loadUsers = () => {\r\n    const savedUsers = localStorage.getItem('users');\r\n    if (savedUsers) {\r\n      const usersData = JSON.parse(savedUsers);\r\n      setUsers(usersData.users || []);\r\n    }\r\n  };\r\n\r\n  const loadQueue = () => {\r\n    const savedQueue = localStorage.getItem('adminQueue');\r\n    const queueData = savedQueue ? JSON.parse(savedQueue) : [];\r\n    setQueue(queueData);\r\n  };\r\n\r\n  const generateRandomString = (length) => {\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let result = '';\r\n    for (let i = 0; i < length; i++) {\r\n      result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const handleCreateUser = () => {\r\n    if (!newUser.firstName || !newUser.lastName) {\r\n      setModalState({\r\n        isOpen: true,\r\n        title: 'Ошибка',\r\n        message: 'Заполните имя и фамилию',\r\n        type: 'error'\r\n      });\r\n      return;\r\n    }\r\n\r\n    const username = generateRandomString(8);\r\n    const password = generateRandomString(8);\r\n\r\n    const userToAdd = {\r\n      username,\r\n      password,\r\n      role: newUser.role,\r\n      firstName: newUser.firstName,\r\n      lastName: newUser.lastName,\r\n      middleName: newUser.middleName,\r\n      createdAt: Date.now()\r\n    };\r\n\r\n    const updatedUsers = [...users, userToAdd];\r\n    setUsers(updatedUsers);\r\n\r\n    // Сохраняем в localStorage\r\n    localStorage.setItem('users', JSON.stringify({ users: updatedUsers }));\r\n\r\n    // Показываем модальное окно с учётными данными\r\n    setCredentialsModal({\r\n      isOpen: true,\r\n      username: username,\r\n      password: password,\r\n      role: newUser.role\r\n    });\r\n\r\n    // Очищаем форму\r\n    setNewUser({\r\n      firstName: '',\r\n      lastName: '',\r\n      middleName: '',\r\n      role: 'user'\r\n    });\r\n  };\r\n\r\n  const handleDeleteUser = (username) => {\r\n    if (username === 'Admin') {\r\n      setModalState({\r\n        isOpen: true,\r\n        title: 'Ошибка',\r\n        message: 'Нельзя удалить главного администратора',\r\n        type: 'error'\r\n      });\r\n      return;\r\n    }\r\n\r\n    const updatedUsers = users.filter(u => u.username !== username);\r\n    setUsers(updatedUsers);\r\n    localStorage.setItem('users', JSON.stringify({ users: updatedUsers }));\r\n\r\n    setModalState({\r\n      isOpen: true,\r\n      title: 'Успешно',\r\n      message: 'Пользователь удалён',\r\n      type: 'success'\r\n    });\r\n  };\r\n\r\n  const handleApproveVideo = (video, index) => {\r\n    // Отправляем уведомление пользователю\r\n    notifyVideoApproved(video.username, video.fileName);\r\n\r\n    // Удаляем из очереди\r\n    const updatedQueue = queue.filter((_, i) => i !== index);\r\n    setQueue(updatedQueue);\r\n    localStorage.setItem('adminQueue', JSON.stringify(updatedQueue));\r\n\r\n    setModalState({\r\n      isOpen: true,\r\n      title: 'Одобрено',\r\n      message: `Видео \"${video.fileName}\" одобрено. Пользователь получит уведомление.`,\r\n      type: 'success'\r\n    });\r\n  };\r\n\r\n  const handleRejectVideo = (video, index) => {\r\n    const reason = prompt('Укажите причину отклонения (необязательно):');\r\n    \r\n    // Отправляем уведомление пользователю\r\n    notifyVideoRejected(video.username, video.fileName, reason || '');\r\n\r\n    // Удаляем из очереди\r\n    const updatedQueue = queue.filter((_, i) => i !== index);\r\n    setQueue(updatedQueue);\r\n    localStorage.setItem('adminQueue', JSON.stringify(updatedQueue));\r\n\r\n    setModalState({\r\n      isOpen: true,\r\n      title: 'Отклонено',\r\n      message: `Видео \"${video.fileName}\" отклонено. Пользователь получит уведомление.`,\r\n      type: 'info'\r\n    });\r\n  };\r\n\r\n  const handleSendNotification = () => {\r\n    if (!notification.title || !notification.message) {\r\n      setModalState({\r\n        isOpen: true,\r\n        title: 'Ошибка',\r\n        message: 'Заполните заголовок и сообщение',\r\n        type: 'error'\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (notification.recipient === 'all') {\r\n      // Отправляем всем пользователям\r\n      users.forEach(user => {\r\n        notifyInfo(user.username, notification.title, notification.message);\r\n      });\r\n\r\n      setModalState({\r\n        isOpen: true,\r\n        title: 'Отправлено',\r\n        message: `Уведомление отправлено всем пользователям (${users.length})`,\r\n        type: 'success'\r\n      });\r\n    } else {\r\n      // Отправляем конкретному пользователю\r\n      notifyInfo(notification.recipient, notification.title, notification.message);\r\n\r\n      setModalState({\r\n        isOpen: true,\r\n        title: 'Отправлено',\r\n        message: `Уведомление отправлено пользователю ${notification.recipient}`,\r\n        type: 'success'\r\n      });\r\n    }\r\n\r\n    // Очищаем форму\r\n    setNotification({\r\n      recipient: 'all',\r\n      title: '',\r\n      message: ''\r\n    });\r\n  };\r\n\r\n  const handleNavClick = (item) => {\r\n    if (item.action === 'home') {\r\n      navigate('/home');\r\n    } else if (item.action === 'history') {\r\n      navigate('/history');\r\n    } else if (item.action === 'notifications') {\r\n      navigate('/notifications');\r\n    } else if (item.action === 'admin') {\r\n      // Уже на админ-панели\r\n      return;\r\n    } else if (item.action === 'logout') {\r\n      localStorage.removeItem('user');\r\n      navigate('/');\r\n    }\r\n  };\r\n\r\n  const navItems = [\r\n    { label: 'Главная', href: '#', action: 'home' },\r\n    { label: 'История', href: '#', action: 'history' },\r\n    { label: 'Уведомления', href: '#', action: 'notifications' },\r\n    { label: 'Админ', href: '#', action: 'admin' },\r\n    { label: 'Выход', href: '#', action: 'logout' }\r\n  ];\r\n\r\n  const closeModal = () => {\r\n    setModalState({\r\n      isOpen: false,\r\n      title: '',\r\n      message: '',\r\n      type: 'info'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-page\">\r\n      {/* Ripple Grid фон */}\r\n      <div className=\"admin-background\">\r\n        <RippleGrid\r\n          enableRainbow={false}\r\n          gridColor=\"#8a5cff\"\r\n          rippleIntensity={0.01}\r\n          gridSize={20}\r\n          gridThickness={20}\r\n          fadeDistance={2.5}\r\n          vignetteStrength={1.5}\r\n          glowIntensity={0.2}\r\n          mouseInteraction={true}\r\n          mouseInteractionRadius={1.2}\r\n          opacity={0.9}\r\n        />\r\n      </div>\r\n\r\n      {/* Логотип и навигация */}\r\n      <div className=\"page-header\">\r\n        <div className=\"page-logo\">\r\n          <EuroLogo />\r\n        </div>\r\n        <GooeyNav\r\n          items={navItems}\r\n          particleCount={15}\r\n          particleDistances={[90, 10]}\r\n          particleR={100}\r\n          initialActiveIndex={3}\r\n          animationTime={600}\r\n          timeVariance={300}\r\n          colors={[1, 2, 3, 1, 2, 3, 1, 4]}\r\n          onItemClick={handleNavClick}\r\n        />\r\n      </div>\r\n\r\n      {/* Содержимое админ-панели */}\r\n      <div className=\"admin-content\">\r\n        <h1 className=\"admin-title\">Панель администратора</h1>\r\n\r\n        {/* Вкладки */}\r\n        <div className=\"admin-tabs\">\r\n          <button\r\n            className={`tab-btn ${activeTab === 'users' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('users')}\r\n          >\r\n            Пользователи\r\n          </button>\r\n          <button\r\n            className={`tab-btn ${activeTab === 'queue' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('queue')}\r\n          >\r\n            Очередь ({queue.length})\r\n          </button>\r\n          <button\r\n            className={`tab-btn ${activeTab === 'notifications' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('notifications')}\r\n          >\r\n            Рассылка\r\n          </button>\r\n        </div>\r\n\r\n        {/* Контент вкладок */}\r\n        <div className=\"tab-content\">\r\n          {/* Вкладка: Пользователи */}\r\n          {activeTab === 'users' && (\r\n            <div className=\"users-tab\">\r\n              <div className=\"create-user-form\">\r\n                <h2>Создать нового пользователя</h2>\r\n                <div className=\"form-grid\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Фамилия\"\r\n                    value={newUser.lastName}\r\n                    onChange={(e) => setNewUser({ ...newUser, lastName: e.target.value })}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Имя\"\r\n                    value={newUser.firstName}\r\n                    onChange={(e) => setNewUser({ ...newUser, firstName: e.target.value })}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Отчество (необязательно)\"\r\n                    value={newUser.middleName}\r\n                    onChange={(e) => setNewUser({ ...newUser, middleName: e.target.value })}\r\n                  />\r\n                  <select\r\n                    value={newUser.role}\r\n                    onChange={(e) => setNewUser({ ...newUser, role: e.target.value })}\r\n                  >\r\n                    <option value=\"user\">Пользователь</option>\r\n                    <option value=\"admin\">Администратор</option>\r\n                  </select>\r\n                </div>\r\n                <button className=\"btn-create-user\" onClick={handleCreateUser}>\r\n                  Создать пользователя\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"users-list\">\r\n                <h2>Список пользователей ({users.length})</h2>\r\n                {users.map((user, index) => (\r\n                  <div key={index} className=\"user-item\">\r\n                    <div className=\"user-info\">\r\n                      <h3>{user.lastName} {user.firstName} {user.middleName}</h3>\r\n                      <p>Логин: <strong>{user.username}</strong></p>\r\n                      <p>Роль: <span className={`role-badge ${user.role}`}>{user.role === 'admin' ? 'Администратор' : 'Пользователь'}</span></p>\r\n                    </div>\r\n                    <button\r\n                      className=\"btn-delete-user\"\r\n                      onClick={() => handleDeleteUser(user.username)}\r\n                      disabled={user.username === 'Admin'}\r\n                    >\r\n                      Удалить\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Вкладка: Очередь */}\r\n          {activeTab === 'queue' && (\r\n            <div className=\"queue-tab\">\r\n              <h2>Очередь на одобрение ({queue.length})</h2>\r\n              {queue.length === 0 ? (\r\n                <div className=\"empty-queue\">\r\n                  <p>Очередь пуста</p>\r\n                </div>\r\n              ) : (\r\n                queue.map((video, index) => (\r\n                  <div key={index} className=\"queue-item\">\r\n                    {video.thumbnail && (\r\n                      <div className=\"queue-thumbnail\">\r\n                        <img src={video.thumbnail} alt={video.fileName} />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"queue-info\">\r\n                      <h3>{video.fileName}</h3>\r\n                      <p>Пользователь: <strong>{video.username}</strong></p>\r\n                      <p>Дата: {new Date(video.timestamp).toLocaleString('ru-RU')}</p>\r\n                      <p>Параметры: {video.resolution} • {video.duration} • {video.fileSize}</p>\r\n                    </div>\r\n                    <div className=\"queue-actions\">\r\n                      <button\r\n                        className=\"btn-approve\"\r\n                        onClick={() => handleApproveVideo(video, index)}\r\n                      >\r\n                        ✓ Одобрить\r\n                      </button>\r\n                      <button\r\n                        className=\"btn-reject\"\r\n                        onClick={() => handleRejectVideo(video, index)}\r\n                      >\r\n                        ✗ Отклонить\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Вкладка: Рассылка */}\r\n          {activeTab === 'notifications' && (\r\n            <div className=\"notifications-tab\">\r\n              <h2>Рассылка уведомлений</h2>\r\n              <div className=\"notification-form\">\r\n                <select\r\n                  value={notification.recipient}\r\n                  onChange={(e) => setNotification({ ...notification, recipient: e.target.value })}\r\n                >\r\n                  <option value=\"all\">Всем пользователям</option>\r\n                  {users.map((user, index) => (\r\n                    <option key={index} value={user.username}>\r\n                      {user.firstName} {user.lastName} ({user.username})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Заголовок уведомления\"\r\n                  value={notification.title}\r\n                  onChange={(e) => setNotification({ ...notification, title: e.target.value })}\r\n                />\r\n                <textarea\r\n                  placeholder=\"Текст уведомления\"\r\n                  value={notification.message}\r\n                  onChange={(e) => setNotification({ ...notification, message: e.target.value })}\r\n                  rows={5}\r\n                />\r\n                <button className=\"btn-send-notification\" onClick={handleSendNotification}>\r\n                  Отправить уведомление\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Модальное окно */}\r\n      <Modal\r\n        isOpen={modalState.isOpen}\r\n        onClose={closeModal}\r\n        title={modalState.title}\r\n        message={modalState.message}\r\n        type={modalState.type}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}