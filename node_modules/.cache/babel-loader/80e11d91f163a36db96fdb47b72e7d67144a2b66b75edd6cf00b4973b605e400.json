{"ast":null,"code":"import screenRequirements from '../data/screenRequirements.json';\nimport backendConfig from '../config/backend.json';\n\n// Получаем общие настройки из нового формата\nconst commonSettings = screenRequirements.commonSettings;\nconst screens = screenRequirements.screens;\n\n// Конвертируем максимальный размер из MB в байты\nconst maxFileSizeBytes = commonSettings.maxSize * 1024 * 1024;\n\n// Функция для валидации видео на сервере\nconst validateVideoOnServer = async file => {\n  if (!backendConfig.ENABLE_BACKEND_VALIDATION) {\n    return null;\n  }\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await fetch(`${backendConfig.BACKEND_URL}${backendConfig.ENDPOINTS.VALIDATE_VIDEO}`, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'ngrok-skip-browser-warning': 'true'\n      }\n    });\n    if (!response.ok) {\n      console.error('Ошибка валидации на сервере:', response.status);\n      return null;\n    }\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('Ошибка при обращении к серверу:', error);\n    return null;\n  }\n};\nexport const validateVideo = file => {\n  return new Promise((resolve, reject) => {\n    // Проверка размера файла\n    const fileSizeValid = file.size <= maxFileSizeBytes;\n\n    // Создаём видео элемент для получения метаданных\n    const video = document.createElement('video');\n    video.preload = 'metadata';\n    video.onloadedmetadata = () => {\n      window.URL.revokeObjectURL(video.src);\n      const duration = Math.round(video.duration);\n      const width = video.videoWidth;\n      const height = video.videoHeight;\n\n      // Проверка длительности\n      const durationValid = commonSettings.allowedDurations.includes(duration);\n\n      // Проверка разрешения - ищем подходящий экран\n      const matchingScreen = screens.find(screen => screen.width === width && screen.height === height);\n      const resolutionValid = matchingScreen !== undefined;\n      const validationResult = {\n        isValid: fileSizeValid && durationValid && resolutionValid,\n        fileSize: file.size,\n        fileSizeValid,\n        duration,\n        durationValid,\n        width,\n        height,\n        resolutionValid,\n        fileName: file.name,\n        fileType: file.type,\n        matchingScreen: matchingScreen || null\n      };\n      resolve(validationResult);\n    };\n    video.onerror = () => {\n      reject(new Error('Не удалось загрузить видео'));\n    };\n    video.src = URL.createObjectURL(file);\n  });\n};\nexport const getVideoMetadata = async file => {\n  try {\n    const validation = await validateVideo(file);\n\n    // Получаем расширение файла\n    const fileExtension = file.name.split('.').pop().toLowerCase();\n\n    // Проверяем контейнер\n    const containerValid = fileExtension === commonSettings.container;\n\n    // Информация о подходящем экране\n    const screenInfo = validation.matchingScreen ? `${validation.matchingScreen.name}${validation.matchingScreen.nightVersion ? ' (требуется ночная версия)' : ''}` : 'Не найден подходящий экран';\n\n    // Попытка получить данные с сервера\n    const serverValidation = await validateVideoOnServer(file);\n\n    // Если сервер вернул данные, используем их для кодека и FPS\n    let codec = commonSettings.codec.toUpperCase();\n    let codecStatus = 'success';\n    let fps = commonSettings.fps.toString();\n    let fpsStatus = 'success';\n    let isValidFinal = validation.isValid && containerValid;\n    if (serverValidation) {\n      var _serverValidation$vid, _serverValidation$vid2, _serverValidation$vid3;\n      // Получаем данные с сервера\n      codec = ((_serverValidation$vid = serverValidation.video_info) === null || _serverValidation$vid === void 0 ? void 0 : _serverValidation$vid.codec) || codec;\n      fps = ((_serverValidation$vid2 = serverValidation.video_info) === null || _serverValidation$vid2 === void 0 ? void 0 : (_serverValidation$vid3 = _serverValidation$vid2.fps) === null || _serverValidation$vid3 === void 0 ? void 0 : _serverValidation$vid3.toString()) || fps;\n\n      // Проверяем валидность на основе ответа сервера\n      if (serverValidation.is_valid !== undefined) {\n        var _serverValidation$vid4, _serverValidation$vid5, _serverValidation$vid6;\n        const codecMatch = ((_serverValidation$vid4 = serverValidation.video_info) === null || _serverValidation$vid4 === void 0 ? void 0 : (_serverValidation$vid5 = _serverValidation$vid4.codec) === null || _serverValidation$vid5 === void 0 ? void 0 : _serverValidation$vid5.toLowerCase()) === commonSettings.codec.toLowerCase();\n        const fpsMatch = Math.abs(parseFloat(((_serverValidation$vid6 = serverValidation.video_info) === null || _serverValidation$vid6 === void 0 ? void 0 : _serverValidation$vid6.fps) || 0) - commonSettings.fps) < 0.1;\n        codecStatus = codecMatch ? 'success' : 'error';\n        fpsStatus = fpsMatch ? 'success' : 'error';\n        isValidFinal = validation.isValid && containerValid && codecMatch && fpsMatch;\n      }\n    }\n    return {\n      duration: `${validation.duration} секунд`,\n      durationStatus: validation.durationValid ? 'success' : 'error',\n      container: `.${fileExtension}`,\n      containerStatus: containerValid ? 'success' : 'error',\n      codec: codec,\n      codecStatus: codecStatus,\n      fps: fps,\n      fpsStatus: fpsStatus,\n      resolution: `${validation.width}x${validation.height} px`,\n      resolutionStatus: validation.resolutionValid ? 'success' : 'error',\n      fileSize: validation.fileSize,\n      fileSizeValid: validation.fileSizeValid,\n      containerValid: containerValid,\n      isValid: isValidFinal,\n      screenInfo: screenInfo,\n      matchingScreen: validation.matchingScreen,\n      serverValidation: serverValidation // Для отладки\n    };\n  } catch (error) {\n    console.error('Ошибка при получении метаданных:', error);\n    throw error;\n  }\n};\nexport const formatFileSize = bytes => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return Math.round(bytes / Math.pow(k, i)) + ' ' + sizes[i];\n};\n\n// Экспортируем функции для получения требований\nexport const getRequirements = () => ({\n  maxFileSize: maxFileSizeBytes,\n  maxFileSizeMB: commonSettings.maxSize,\n  allowedDurations: commonSettings.allowedDurations,\n  allowedFormats: [`video/${commonSettings.container}`],\n  allowedContainers: [commonSettings.container],\n  fps: commonSettings.fps,\n  codec: commonSettings.codec\n});\nexport const getScreens = () => screens;\nexport const getScreenByResolution = (width, height) => {\n  return screens.find(screen => screen.width === width && screen.height === height);\n};","map":{"version":3,"names":["screenRequirements","backendConfig","commonSettings","screens","maxFileSizeBytes","maxSize","validateVideoOnServer","file","ENABLE_BACKEND_VALIDATION","formData","FormData","append","response","fetch","BACKEND_URL","ENDPOINTS","VALIDATE_VIDEO","method","body","headers","ok","console","error","status","result","json","validateVideo","Promise","resolve","reject","fileSizeValid","size","video","document","createElement","preload","onloadedmetadata","window","URL","revokeObjectURL","src","duration","Math","round","width","videoWidth","height","videoHeight","durationValid","allowedDurations","includes","matchingScreen","find","screen","resolutionValid","undefined","validationResult","isValid","fileSize","fileName","name","fileType","type","onerror","Error","createObjectURL","getVideoMetadata","validation","fileExtension","split","pop","toLowerCase","containerValid","container","screenInfo","nightVersion","serverValidation","codec","toUpperCase","codecStatus","fps","toString","fpsStatus","isValidFinal","_serverValidation$vid","_serverValidation$vid2","_serverValidation$vid3","video_info","is_valid","_serverValidation$vid4","_serverValidation$vid5","_serverValidation$vid6","codecMatch","fpsMatch","abs","parseFloat","durationStatus","containerStatus","resolution","resolutionStatus","formatFileSize","bytes","k","sizes","i","floor","log","pow","getRequirements","maxFileSize","maxFileSizeMB","allowedFormats","allowedContainers","getScreens","getScreenByResolution"],"sources":["C:/Users/F1toF/OneDrive/Desktop/cours/cours/cours-project/src/utils/videoValidator.js"],"sourcesContent":["import screenRequirements from '../data/screenRequirements.json';\r\nimport backendConfig from '../config/backend.json';\r\n\r\n// Получаем общие настройки из нового формата\r\nconst commonSettings = screenRequirements.commonSettings;\r\nconst screens = screenRequirements.screens;\r\n\r\n// Конвертируем максимальный размер из MB в байты\r\nconst maxFileSizeBytes = commonSettings.maxSize * 1024 * 1024;\r\n\r\n// Функция для валидации видео на сервере\r\nconst validateVideoOnServer = async (file) => {\r\n  if (!backendConfig.ENABLE_BACKEND_VALIDATION) {\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    const response = await fetch(\r\n      `${backendConfig.BACKEND_URL}${backendConfig.ENDPOINTS.VALIDATE_VIDEO}`,\r\n      {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n          'ngrok-skip-browser-warning': 'true'\r\n        }\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      console.error('Ошибка валидации на сервере:', response.status);\r\n      return null;\r\n    }\r\n\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    console.error('Ошибка при обращении к серверу:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const validateVideo = (file) => {\r\n  return new Promise((resolve, reject) => {\r\n    // Проверка размера файла\r\n    const fileSizeValid = file.size <= maxFileSizeBytes;\r\n    \r\n    // Создаём видео элемент для получения метаданных\r\n    const video = document.createElement('video');\r\n    video.preload = 'metadata';\r\n    \r\n    video.onloadedmetadata = () => {\r\n      window.URL.revokeObjectURL(video.src);\r\n      \r\n      const duration = Math.round(video.duration);\r\n      const width = video.videoWidth;\r\n      const height = video.videoHeight;\r\n      \r\n      // Проверка длительности\r\n      const durationValid = commonSettings.allowedDurations.includes(duration);\r\n      \r\n      // Проверка разрешения - ищем подходящий экран\r\n      const matchingScreen = screens.find(\r\n        screen => screen.width === width && screen.height === height\r\n      );\r\n      const resolutionValid = matchingScreen !== undefined;\r\n      \r\n      const validationResult = {\r\n        isValid: fileSizeValid && durationValid && resolutionValid,\r\n        fileSize: file.size,\r\n        fileSizeValid,\r\n        duration,\r\n        durationValid,\r\n        width,\r\n        height,\r\n        resolutionValid,\r\n        fileName: file.name,\r\n        fileType: file.type,\r\n        matchingScreen: matchingScreen || null\r\n      };\r\n      \r\n      resolve(validationResult);\r\n    };\r\n    \r\n    video.onerror = () => {\r\n      reject(new Error('Не удалось загрузить видео'));\r\n    };\r\n    \r\n    video.src = URL.createObjectURL(file);\r\n  });\r\n};\r\n\r\nexport const getVideoMetadata = async (file) => {\r\n  try {\r\n    const validation = await validateVideo(file);\r\n    \r\n    // Получаем расширение файла\r\n    const fileExtension = file.name.split('.').pop().toLowerCase();\r\n    \r\n    // Проверяем контейнер\r\n    const containerValid = fileExtension === commonSettings.container;\r\n    \r\n    // Информация о подходящем экране\r\n    const screenInfo = validation.matchingScreen \r\n      ? `${validation.matchingScreen.name}${validation.matchingScreen.nightVersion ? ' (требуется ночная версия)' : ''}`\r\n      : 'Не найден подходящий экран';\r\n    \r\n    // Попытка получить данные с сервера\r\n    const serverValidation = await validateVideoOnServer(file);\r\n    \r\n    // Если сервер вернул данные, используем их для кодека и FPS\r\n    let codec = commonSettings.codec.toUpperCase();\r\n    let codecStatus = 'success';\r\n    let fps = commonSettings.fps.toString();\r\n    let fpsStatus = 'success';\r\n    let isValidFinal = validation.isValid && containerValid;\r\n    \r\n    if (serverValidation) {\r\n      // Получаем данные с сервера\r\n      codec = serverValidation.video_info?.codec || codec;\r\n      fps = serverValidation.video_info?.fps?.toString() || fps;\r\n      \r\n      // Проверяем валидность на основе ответа сервера\r\n      if (serverValidation.is_valid !== undefined) {\r\n        const codecMatch = serverValidation.video_info?.codec?.toLowerCase() === commonSettings.codec.toLowerCase();\r\n        const fpsMatch = Math.abs(parseFloat(serverValidation.video_info?.fps || 0) - commonSettings.fps) < 0.1;\r\n        \r\n        codecStatus = codecMatch ? 'success' : 'error';\r\n        fpsStatus = fpsMatch ? 'success' : 'error';\r\n        isValidFinal = validation.isValid && containerValid && codecMatch && fpsMatch;\r\n      }\r\n    }\r\n    \r\n    return {\r\n      duration: `${validation.duration} секунд`,\r\n      durationStatus: validation.durationValid ? 'success' : 'error',\r\n      container: `.${fileExtension}`,\r\n      containerStatus: containerValid ? 'success' : 'error',\r\n      codec: codec,\r\n      codecStatus: codecStatus,\r\n      fps: fps,\r\n      fpsStatus: fpsStatus,\r\n      resolution: `${validation.width}x${validation.height} px`,\r\n      resolutionStatus: validation.resolutionValid ? 'success' : 'error',\r\n      fileSize: validation.fileSize,\r\n      fileSizeValid: validation.fileSizeValid,\r\n      containerValid: containerValid,\r\n      isValid: isValidFinal,\r\n      screenInfo: screenInfo,\r\n      matchingScreen: validation.matchingScreen,\r\n      serverValidation: serverValidation // Для отладки\r\n    };\r\n  } catch (error) {\r\n    console.error('Ошибка при получении метаданных:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const formatFileSize = (bytes) => {\r\n  if (bytes === 0) return '0 Bytes';\r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return Math.round(bytes / Math.pow(k, i)) + ' ' + sizes[i];\r\n};\r\n\r\n// Экспортируем функции для получения требований\r\nexport const getRequirements = () => ({\r\n  maxFileSize: maxFileSizeBytes,\r\n  maxFileSizeMB: commonSettings.maxSize,\r\n  allowedDurations: commonSettings.allowedDurations,\r\n  allowedFormats: [`video/${commonSettings.container}`],\r\n  allowedContainers: [commonSettings.container],\r\n  fps: commonSettings.fps,\r\n  codec: commonSettings.codec\r\n});\r\n\r\nexport const getScreens = () => screens;\r\n\r\nexport const getScreenByResolution = (width, height) => {\r\n  return screens.find(screen => screen.width === width && screen.height === height);\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}